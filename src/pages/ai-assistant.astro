---
import AIPromptCard from "../components/AIPromptCard.astro";
import Layout from "../layouts/Layout.astro";

import { Image } from "astro:assets";
import Logo from "../assets/images/logo.png";
import Bug from "../assets/images/bug-fill.svg?raw";
---

<Layout title="Better Homes and Gardens Cloud">
    <!-- <div class="loader">
        <Image src={Logo} alt="BHGRE Loader" />
    </div> -->

    <!-- <header class="container-fluid p-0" role="banner">
        <div class="container py-2">
            <div class="row justify-content-center align-items-center">
                <div class="col-auto text-center text-white">
                    <a href="/">
                        <Image
                            src={Logo}
                            alt="BHGRE Logo"
                            style="width:300px;height:auto;"
                        />
                    </a>
                </div>
            </div>
        </div>
    </header> -->
    <div class="d-flex">
        <div class="layout-sidebar p-3">
            <!-- <a href="/">
                <Image
                    src={Logo}
                    alt="BHGRE Logo"
                    style="width:300px;height:auto;"
                />
            </a> -->
            <button id="newChatBtn" class="prompt-btn"
                ><i class="fa-regular fa-pen-to-square"></i></button
            >
        </div>

        <div class="container vh-100 thread-bottom-container">
            <div class="thread-top-container">
                <div class="animation-container">
                    <div id="concentric-rings" class="circle-container"></div>
                </div>
                <h3 class="text-center text-white">Where should we begin?</h3>
                <!-- <div class="green_aura col-8 m-auto mt-4"></div> -->
            </div>

            <div class="chat-wrapper col-12 col-md-8">
                <div class="chat-box hidden" id="chatBox">
                    <!-- Messages will appear here -->
                </div>
                <form id="chatForm">
                    <ul id="promptMenu" class="prompt-dropdown d-none">
                        <li
                            data-text="üè° Listing Generator"
                            data-section="listing"
                        >
                            üè° Listing Generator
                        </li>
                        <li
                            data-text="üì∏ Instagram Captions"
                            data-section="instagram"
                        >
                            üì∏ Instagram Captions
                        </li>
                        <li
                            data-text="üìû Lead Follow-Ups"
                            data-section="followup"
                        >
                            üìû Lead Follow-Ups
                        </li>
                        <li
                            data-text="üí¨ Objection Handlers"
                            data-section="objections"
                        >
                            üí¨ Objection Handlers
                        </li>
                        <li
                            data-text="üéØ Agent Coaching"
                            data-section="coaching"
                        >
                            üéØ Agent Coaching
                        </li>
                    </ul>
                    <textarea
                        id="userInput"
                        autocomplete="off"
                        spellcheck="false"
                        class="form-control"
                        placeholder="Type your question..."
                        rows="1"
                        required></textarea>
                    <div class="w-100 d-flex justify-content-end gap-1">
                        <button id="promptToggle" class="prompt-btn">
                            <Fragment set:html={Bug} /></button
                        >
                        <button type="submit" class="prompt-btn"
                            ><i class="fa-solid fa-arrow-up"></i></button
                        >
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="container py-5 flex min-h-screen d-none">
        <div class="text-center text-white ai-page-header">
            <h3 class="fw-bold">AI ASSISTANT</h3>
            <p>
                Select one of the tools below to generate custom content for
                your real estate needs in seconds.
            </p>
        </div>
        <div class="text-white ai-options">
            <ul
                class="col-6 m-auto px-6 list-unstyled d-flex text-center flex-wrap justify-content-center gap-2 flex-column align-content-centers"
            >
                <li class="col-3 col-12 ai-select">
                    <button
                        class="ai-select-btn text-decoration-none"
                        data-target="#listing">üè° Listing Generator</button
                    >
                </li>
                <li class="col-3 col-12 ai-select">
                    <button
                        class="ai-select-btn text-decoration-none"
                        data-target="#instagram">üì∏ Instagram Captions</button
                    >
                </li>
                <li class="col-3 col-12 ai-select">
                    <button
                        class="ai-select-btn text-decoration-none"
                        data-target="#followup">üìû Lead Follow-Ups</button
                    >
                </li>
                <li class="col-3 col-12 ai-select">
                    <button
                        class="ai-select-btn text-decoration-none"
                        data-target="#objections">üí¨ Objection Handlers</button
                    >
                </li>
                <li class="col-3 col-12 ai-select">
                    <button
                        class="ai-select-btn text-decoration-none"
                        data-target="#coaching">üéØ Agent Coaching</button
                    >
                </li>
            </ul>
        </div>

        <main class="my-4">
            <AIPromptCard
                id="listing"
                style="display: none"
                title="Listing Description Generator"
                description="Craft compelling property descriptions that highlight key features and attract potential buyers with clear, engaging language."
                placeholder="Describe the property..."
            />
            <AIPromptCard
                id="instagram"
                style="display: none"
                title="Instagram & Social Captions"
                description="Generate attention-grabbing captions tailored for real estate social posts to boost engagement and showcase listings effectively."
                placeholder="What's the property or theme?"
            />
            <AIPromptCard
                id="followup"
                style="display: none"
                title="Lead Follow-Up Templates"
                description="Create ready-to-send follow-up messages for new leads to stay top of mind and increase your chances of converting interest into action."
                placeholder="Provide lead info/context..."
            />
            <AIPromptCard
                id="objections"
                style="display: none"
                title="Objection Handlers"
                description="Get smart, persuasive responses to common client objections‚Äîperfect for overcoming hesitation and moving deals forward confidently."
                placeholder="What's the client objection?"
            />
            <AIPromptCard
                id="coaching"
                style="display: none"
                title="Agent Coaching"
                description="Receive personalized scripts and strategies to enhance your communication, boost client trust, and grow as a top-performing agent."
                placeholder="What do you want advice on?"
            />
        </main>

        <!-- Modal Container -->
        <div
            class="modal fade"
            id="aiPromptModal"
            tabindex="-1"
            aria-labelledby="aiPromptModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content bg-dark text-white p-4">
                    <div class="modal-header">
                        <h5 class="modal-title" id="aiPromptModalLabel">
                            AI Tool
                        </h5>
                        <button
                            type="button"
                            class="btn-close btn-close-white"
                            data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="aiPromptModalBody"></div>
                </div>
            </div>
        </div>
    </div>
</Layout>
